---
import GitHub from "./icons/Github.astro"
import Tailwind from "./icons/Tailwind.astro"
import Link from "./icons/Link.astro"
import CakePHP from "./icons/CakePHP.astro"
import Bootstrap from "./icons/Boostrap.astro"
import MySql from "./icons/MySql.astro"

const TAGS = {
  BOOSTRAP: {
    name: "Bootstrap5",
    color: "#8312FA",
    icon: Bootstrap,
  },
  CAKEPHP: {
    name: "CakePHP",
    color: "#D33C43",
    icon: CakePHP,
  },
  MYSQL: {
    name: "MySQL",
    color: "#4479A1",
    icon: MySql,
  },
}

const PROJECTS = [
  {
    title: "Mesa de Ayuda",
    description:
      "Plataforma integral para gesti贸n de PQRS, compras y soporte IT. Implementaci贸n de automatizaci贸n con IA y Bots de Whatsapp para procesos internos y mejora de eficiencia operativa.",
    link: 'https://mesadeayuda.alexandercaicedo.dev/',
    github: 'https://github.com/caicedoficial/mesa-de-ayuda',
    image: "/projects/mesa-de-ayuda.webp",
    tags: [TAGS.CAKEPHP, TAGS.BOOSTRAP, TAGS.MYSQL],
  }
]
---
  
<div class="grid gap-8">
  {
    PROJECTS.map(({ image, title, description, tags, link, github }, index) => (
    <article class={`group relative reveal stagger-${index + 1}`}>
      <!-- Diagonal Accent Line -->
      <div
        class="absolute -left-4 top-0 bottom-0 w-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-500"
        style="background: linear-gradient(to bottom, var(--color-accent-creative), transparent);"
      ></div>

      <div class="grid md:grid-cols-2 gap-8 items-center">
        <!-- Image -->
        <div class="relative overflow-hidden rounded-xl aspect-video" style="background-color: var(--color-bg-elevated)">
          <div
            class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"
            style="background: linear-gradient(to bottom right, rgba(236, 72, 153, 0.2), transparent);"
          ></div>
          <img
            alt={title}
            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
            loading="lazy"
            src={image}
          />
        </div>

        <!-- Content -->
        <div>
          <h3 class="project-title text-3xl font-bold mb-3 transition-colors" style="font-family: var(--font-display)">
            {title}
          </h3>

          <!-- Tags -->
          <div class="flex flex-wrap gap-2 mb-4">
            {tags.map((tag) => (
              <span
                class="inline-flex items-center gap-2 px-3 py-1 text-xs font-bold rounded-full transition-all hover:scale-105"
                style={`color: ${tag.color}; background-color: var(--color-bg-elevated); border: 1px solid var(--color-border);`}
              >
                {tag.icon && <tag.icon class="size-4" />}
                {tag.name}
              </span>
            ))}
          </div>

          <p class="mb-6 leading-relaxed" style="color: var(--color-text-secondary)">{description}</p>

          <!-- Actions -->
          <div class="flex flex-wrap gap-3">
            {github && (
              <a
                href={github}
                target="_blank"
                rel="noopener"
                class="project-btn-secondary inline-flex items-center gap-2 px-4 py-2 rounded-lg font-bold transition-all hover:scale-105 hover:shadow-lg"
              >
                <GitHub class="size-5" />
                <span>C贸digo</span>
              </a>
            )}
            {link && (
              <a
                href={link}
                target="_blank"
                rel="noopener"
                class="project-btn-primary inline-flex items-center gap-2 px-4 py-2 text-white rounded-lg font-bold transition-all hover:scale-105 hover:shadow-lg"
              >
                <Link class="size-4" />
                <span>Ver Proyecto</span>
              </a>
            )}
          </div>
        </div>
      </div>
    </article>
    ))
  }
</div>

<style>
  .project-title {
    color: var(--color-text);
  }

  .group:hover .project-title {
    color: var(--color-accent-creative);
  }

  .project-btn-secondary {
    background-color: var(--color-bg-elevated);
    border: 2px solid var(--color-border);
  }

  .project-btn-secondary:hover {
    border-color: var(--color-text);
  }

  .project-btn-primary {
    background-color: var(--color-accent-creative);
  }

  .project-btn-primary:hover {
    box-shadow: 0 20px 25px -5px rgba(236, 72, 153, 0.25);
  }
</style>